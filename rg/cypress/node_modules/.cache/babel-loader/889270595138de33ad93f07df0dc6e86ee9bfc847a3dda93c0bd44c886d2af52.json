{"ast":null,"code":"var _jsxFileName = \"/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js\",\n  _s = $RefreshSig$();\n// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { startMatchup, nextPair, handleChoiceSelect } from '../../features/matchup/matchupSlice';\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { selectChoice, incrementVote } from '../../features/ui/uiSlice';\nimport { selectCurrentPair } from '../../selectors/matchupSelectors';\nimport { MatchupView } from './MatchupView';\nimport { ERRORS, PAGES } from '../../features/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MatchupPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector(state => state.matchup.isComparisonComplete);\n  const items = useSelector(state => state.ui.items);\n  useEffect(() => {\n    dispatch(startMatchup(items));\n  }, [dispatch]);\n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector(state => state.ui.topic);\n  console.log(`\n  isComparisonComplete: ${isComparisonComplete}\n  currentPair: ${currentPair}\n  topic: ${topic}\n  items: ${items.map(item => JSON.stringify(item, null, 2))}`);\n  const handleChoiceSelect = choiceIndex => {\n    console.log(`handleChoiceSelect called with choiceIndex: ${choiceIndex}`);\n    if (currentPair && currentPair.length === 2) {\n      console.log(`currentPair: ${currentPair}`);\n      const leftItem = items[currentPair[0]];\n      const rightItem = items[currentPair[1]];\n      console.log(`Item on the left: ${JSON.stringify(leftItem, null, 2)}`);\n      console.log(`Item on the right: ${JSON.stringify(rightItem, null, 2)}`);\n      const selectedItem = items[currentPair[choiceIndex]];\n      console.log(`User chose: ${JSON.stringify(selectedItem, null, 2)}`);\n      if (selectedItem) {\n        dispatch(incrementVote(selectedItem.id)); // Dispatch with the item's id\n        console.log(`incrementVote dispatched with selectedItem ID: ${selectedItem.id}`);\n        dispatch(nextPair());\n        console.log('nextPair dispatched');\n      }\n\n      // Output the items and their votes after the vote\n      items.forEach(item => {\n        console.log(`Item: ${item.name}, Votes: ${item.votes}`);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MatchupView, {\n    topic: topic,\n    handleChoiceSelect: handleChoiceSelect,\n    currentPair: currentPair,\n    items: items\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(MatchupPage, \"937nQXdG5vRQEldxcjAfYcTakAI=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = MatchupPage;\nexport default MatchupPage;\nvar _c;\n$RefreshReg$(_c, \"MatchupPage\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","shallowEqual","startMatchup","nextPair","handleChoiceSelect","setCurrentPage","selectChoice","incrementVote","selectCurrentPair","MatchupView","ERRORS","PAGES","jsxDEV","_jsxDEV","MatchupPage","_s","dispatch","isComparisonComplete","state","matchup","items","ui","RESULTS","currentPair","topic","console","log","map","item","JSON","stringify","choiceIndex","length","leftItem","rightItem","selectedItem","id","forEach","name","votes","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js"],"sourcesContent":["// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport { startMatchup, nextPair, handleChoiceSelect} from '../../features/matchup/matchupSlice';\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { selectChoice, incrementVote} from '../../features/ui/uiSlice';\n\n\nimport { selectCurrentPair } from '../../selectors/matchupSelectors';\n\nimport { MatchupView } from './MatchupView';\nimport { ERRORS, PAGES } from '../../features/constants';\n\nconst MatchupPage = () => {\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector((state) => state.matchup.isComparisonComplete);\n \n  const items = useSelector((state) => state.ui.items);\n\n  useEffect(() => {\n    dispatch(startMatchup(items));\n  }, [dispatch]);\n\n  \n  \n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector((state) => state.ui.topic);\n\n  console.log(`\n  isComparisonComplete: ${isComparisonComplete}\n  currentPair: ${currentPair}\n  topic: ${topic}\n  items: ${items.map(item => JSON.stringify(item, null, 2))}`);\n\n  const handleChoiceSelect = (choiceIndex) => {\n    console.log(`handleChoiceSelect called with choiceIndex: ${choiceIndex}`);\n  \n    if (currentPair && currentPair.length === 2) {\n      console.log(`currentPair: ${currentPair}`);\n      \n      const leftItem = items[currentPair[0]];\n      const rightItem = items[currentPair[1]];\n      console.log(`Item on the left: ${JSON.stringify(leftItem, null, 2)}`);\n      console.log(`Item on the right: ${JSON.stringify(rightItem, null, 2)}`);\n  \n      const selectedItem = items[currentPair[choiceIndex]];\n      console.log(`User chose: ${JSON.stringify(selectedItem, null, 2)}`);\n      \n      if (selectedItem) {\n        dispatch(incrementVote(selectedItem.id)); // Dispatch with the item's id\n        console.log(`incrementVote dispatched with selectedItem ID: ${selectedItem.id}`);\n        \n        dispatch(nextPair());\n        console.log('nextPair dispatched');\n      }\n  \n      // Output the items and their votes after the vote\n      items.forEach(item => {\n        console.log(`Item: ${item.name}, Votes: ${item.votes}`);\n      });\n    }\n  };\n  \n  \n  \n  \n  \n  \n  \n\n\n\n  return (\n    <MatchupView \n      topic={topic}\n      handleChoiceSelect={handleChoiceSelect}\n      currentPair={currentPair}\n      items={items}\n    />\n  );\n};\n\nexport default MatchupPage;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,EAAEC,YAAY,QAAQ,aAAa;AAEpE,SAASC,YAAY,EAAEC,QAAQ,EAAEC,kBAAkB,QAAO,qCAAqC;AAC/F,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SAASC,YAAY,EAAEC,aAAa,QAAO,2BAA2B;AAGtE,SAASC,iBAAiB,QAAQ,kCAAkC;AAEpE,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,MAAM,EAAEC,KAAK,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMkB,oBAAoB,GAAGjB,WAAW,CAAEkB,KAAK,IAAKA,KAAK,CAACC,OAAO,CAACF,oBAAoB,CAAC;EAEvF,MAAMG,KAAK,GAAGpB,WAAW,CAAEkB,KAAK,IAAKA,KAAK,CAACG,EAAE,CAACD,KAAK,CAAC;EAEpDtB,SAAS,CAAC,MAAM;IACdkB,QAAQ,CAACd,YAAY,CAACkB,KAAK,CAAC,CAAC;EAC/B,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAIdlB,SAAS,CAAC,MAAM;IACd,IAAImB,oBAAoB,EAAE;MACxBD,QAAQ,CAACX,cAAc,CAACM,KAAK,CAACW,OAAO,CAAC,CAAC;IACzC;EACF,CAAC,EAAE,CAACL,oBAAoB,EAAED,QAAQ,CAAC,CAAC;EAEpC,MAAMO,WAAW,GAAGvB,WAAW,CAACQ,iBAAiB,CAAC;EAClD,MAAMgB,KAAK,GAAGxB,WAAW,CAAEkB,KAAK,IAAKA,KAAK,CAACG,EAAE,CAACG,KAAK,CAAC;EAEpDC,OAAO,CAACC,GAAG,CAAE;AACf,0BAA0BT,oBAAqB;AAC/C,iBAAiBM,WAAY;AAC7B,WAAWC,KAAM;AACjB,WAAWJ,KAAK,CAACO,GAAG,CAACC,IAAI,IAAIC,IAAI,CAACC,SAAS,CAACF,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAE,EAAC,CAAC;EAE5D,MAAMxB,kBAAkB,GAAI2B,WAAW,IAAK;IAC1CN,OAAO,CAACC,GAAG,CAAE,+CAA8CK,WAAY,EAAC,CAAC;IAEzE,IAAIR,WAAW,IAAIA,WAAW,CAACS,MAAM,KAAK,CAAC,EAAE;MAC3CP,OAAO,CAACC,GAAG,CAAE,gBAAeH,WAAY,EAAC,CAAC;MAE1C,MAAMU,QAAQ,GAAGb,KAAK,CAACG,WAAW,CAAC,CAAC,CAAC,CAAC;MACtC,MAAMW,SAAS,GAAGd,KAAK,CAACG,WAAW,CAAC,CAAC,CAAC,CAAC;MACvCE,OAAO,CAACC,GAAG,CAAE,qBAAoBG,IAAI,CAACC,SAAS,CAACG,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAE,EAAC,CAAC;MACrER,OAAO,CAACC,GAAG,CAAE,sBAAqBG,IAAI,CAACC,SAAS,CAACI,SAAS,EAAE,IAAI,EAAE,CAAC,CAAE,EAAC,CAAC;MAEvE,MAAMC,YAAY,GAAGf,KAAK,CAACG,WAAW,CAACQ,WAAW,CAAC,CAAC;MACpDN,OAAO,CAACC,GAAG,CAAE,eAAcG,IAAI,CAACC,SAAS,CAACK,YAAY,EAAE,IAAI,EAAE,CAAC,CAAE,EAAC,CAAC;MAEnE,IAAIA,YAAY,EAAE;QAChBnB,QAAQ,CAACT,aAAa,CAAC4B,YAAY,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1CX,OAAO,CAACC,GAAG,CAAE,kDAAiDS,YAAY,CAACC,EAAG,EAAC,CAAC;QAEhFpB,QAAQ,CAACb,QAAQ,CAAC,CAAC,CAAC;QACpBsB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MACpC;;MAEA;MACAN,KAAK,CAACiB,OAAO,CAACT,IAAI,IAAI;QACpBH,OAAO,CAACC,GAAG,CAAE,SAAQE,IAAI,CAACU,IAAK,YAAWV,IAAI,CAACW,KAAM,EAAC,CAAC;MACzD,CAAC,CAAC;IACJ;EACF,CAAC;EAWD,oBACE1B,OAAA,CAACJ,WAAW;IACVe,KAAK,EAAEA,KAAM;IACbpB,kBAAkB,EAAEA,kBAAmB;IACvCmB,WAAW,EAAEA,WAAY;IACzBH,KAAK,EAAEA;EAAM;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEN,CAAC;AAAC5B,EAAA,CAzEID,WAAW;EAAA,QACEf,WAAW,EACCC,WAAW,EAE1BA,WAAW,EAcLA,WAAW,EACjBA,WAAW;AAAA;AAAA4C,EAAA,GAnBrB9B,WAAW;AA2EjB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}