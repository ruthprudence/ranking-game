{"ast":null,"code":"export const calculateRankings = (items, scores) => {\n  if (!scores) {\n    return [];\n  }\n  console.log('Scores:', scores);\n  console.log('Items:', items);\n  const sortedChoices = Object.entries(scores).sort((a, b) => b[1] - a[1]);\n  let lastScore = null;\n  let rank = 0;\n  return sortedChoices.map(([id, score], index) => {\n    var _items$find;\n    if (score !== lastScore) {\n      rank = index + 1;\n      lastScore = score;\n    }\n    // Use optional chaining to safely access the name property\n    const itemName = ((_items$find = items.find(item => item.id.toString() === id)) === null || _items$find === void 0 ? void 0 : _items$find.name) || 'Unknown';\n    return {\n      itemName,\n      score,\n      rank\n    };\n  });\n};","map":{"version":3,"names":["calculateRankings","items","scores","console","log","sortedChoices","Object","entries","sort","a","b","lastScore","rank","map","id","score","index","_items$find","itemName","find","item","toString","name"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/features/results/calculateRankings.js"],"sourcesContent":["export const calculateRankings = (items, scores) => {\n    if (!scores) {\n        return [];\n    }\n\n    console.log('Scores:', scores);\n    console.log('Items:', items);\n\n    const sortedChoices = Object.entries(scores).sort((a, b) => b[1] - a[1]);\n    let lastScore = null;\n    let rank = 0;\n\n    return sortedChoices.map(([id, score], index) => {\n        if (score !== lastScore) {\n            rank = index + 1;\n            lastScore = score;\n        }\n        // Use optional chaining to safely access the name property\n        const itemName = items.find(item => item.id.toString() === id)?.name || 'Unknown';\n        return { itemName, score, rank };\n    });\n};\n"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAChD,IAAI,CAACA,MAAM,EAAE;IACT,OAAO,EAAE;EACb;EAEAC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,MAAM,CAAC;EAC9BC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,KAAK,CAAC;EAE5B,MAAMI,aAAa,GAAGC,MAAM,CAACC,OAAO,CAACL,MAAM,CAAC,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC;EACxE,IAAIE,SAAS,GAAG,IAAI;EACpB,IAAIC,IAAI,GAAG,CAAC;EAEZ,OAAOP,aAAa,CAACQ,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,KAAK,CAAC,EAAEC,KAAK,KAAK;IAAA,IAAAC,WAAA;IAC7C,IAAIF,KAAK,KAAKJ,SAAS,EAAE;MACrBC,IAAI,GAAGI,KAAK,GAAG,CAAC;MAChBL,SAAS,GAAGI,KAAK;IACrB;IACA;IACA,MAAMG,QAAQ,GAAG,EAAAD,WAAA,GAAAhB,KAAK,CAACkB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACN,EAAE,CAACO,QAAQ,CAAC,CAAC,KAAKP,EAAE,CAAC,cAAAG,WAAA,uBAA7CA,WAAA,CAA+CK,IAAI,KAAI,SAAS;IACjF,OAAO;MAAEJ,QAAQ;MAAEH,KAAK;MAAEH;IAAK,CAAC;EACpC,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}