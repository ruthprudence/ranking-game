{"ast":null,"code":"var _jsxFileName = \"/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Input/InputPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addRow, removeRow, updateRow, submitInputPage } from '../../features/ui/uiSlice';\nimport { validateRowsState } from '../../features/validate/validateSlice'; // Import the action\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { InputView } from './InputView';\nimport { PAGES } from '../../features/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InputPage = () => {\n  _s();\n  const topic = useSelector(state => state.ui.topic);\n  const rows = useSelector(state => state.ui.rows);\n  const dispatch = useDispatch();\n  const rowsValidationResult = useSelector(state => state.validate.rowsValidationResult);\n  useEffect(() => {\n    // Run validation on rows change\n    dispatch(validateRowsState(rows));\n  }, [rows, dispatch]);\n\n  // Determine if the submit button should be enabled\n  const isSubmitEnabled = (rowsValidationResult === null || rowsValidationResult === void 0 ? void 0 : rowsValidationResult.isValid) && rows.length > 0;\n  const handleAddRow = () => {\n    dispatch(addRow());\n  };\n  const handleItemChange = (index, value) => {\n    dispatch(updateRow({\n      index,\n      updatedValue: value\n    }));\n  };\n  const handleRemoveRow = index => {\n    dispatch(removeRow(index));\n  };\n  const handleSubmit = () => {\n    if (isSubmitEnabled) {\n      dispatch(submitInputPage());\n      dispatch(setCurrentPage(PAGES.MATCHUP)); // Move to the next page if submission is successful\n    } else {\n      console.error('Submission failed: Rows are not valid.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(InputView, {\n    topic: topic,\n    rows: rows,\n    handleAddRow: handleAddRow,\n    handleRemoveRow: handleRemoveRow,\n    handleItemChange: handleItemChange,\n    handleSubmit: handleSubmit,\n    isSubmitEnabled: isSubmitEnabled\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(InputPage, \"mZkwY3KBZGdOJFqL/SeyI6EX9Y0=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector];\n});\n_c = InputPage;\nexport default InputPage;\nvar _c;\n$RefreshReg$(_c, \"InputPage\");","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","addRow","removeRow","updateRow","submitInputPage","validateRowsState","setCurrentPage","InputView","PAGES","jsxDEV","_jsxDEV","InputPage","_s","topic","state","ui","rows","dispatch","rowsValidationResult","validate","isSubmitEnabled","isValid","length","handleAddRow","handleItemChange","index","value","updatedValue","handleRemoveRow","handleSubmit","MATCHUP","console","error","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Input/InputPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addRow, removeRow, updateRow, submitInputPage } from '../../features/ui/uiSlice';\nimport { validateRowsState } from '../../features/validate/validateSlice'; // Import the action\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { InputView } from './InputView';\nimport { PAGES } from '../../features/constants';\n\nconst InputPage = () => {\n    const topic = useSelector((state) => state.ui.topic);\n    const rows = useSelector((state) => state.ui.rows);\n    const dispatch = useDispatch();\n    const rowsValidationResult = useSelector((state) => state.validate.rowsValidationResult);\n\n    useEffect(() => {\n        // Run validation on rows change\n        dispatch(validateRowsState(rows));\n    }, [rows, dispatch]);\n\n    // Determine if the submit button should be enabled\n    const isSubmitEnabled = rowsValidationResult?.isValid && rows.length > 0;\n\n    const handleAddRow = () => {\n        dispatch(addRow());\n    };\n\n    const handleItemChange = (index, value) => {\n        dispatch(updateRow({ index, updatedValue: value }));\n    };\n\n    const handleRemoveRow = (index) => {\n        dispatch(removeRow(index));\n    };\n\n    const handleSubmit = () => {\n        if (isSubmitEnabled) {\n            dispatch(submitInputPage());\n            dispatch(setCurrentPage(PAGES.MATCHUP)); // Move to the next page if submission is successful\n        } else {\n            console.error('Submission failed: Rows are not valid.');\n        }\n    };\n\n    return (\n        <InputView \n            topic={topic}\n            rows={rows}\n            handleAddRow={handleAddRow} \n            handleRemoveRow={handleRemoveRow}\n            handleItemChange={handleItemChange}\n            handleSubmit={handleSubmit}\n            isSubmitEnabled={isSubmitEnabled}\n        />\n    );\n};\n\nexport default InputPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,MAAM,EAAEC,SAAS,EAAEC,SAAS,EAAEC,eAAe,QAAQ,2BAA2B;AACzF,SAASC,iBAAiB,QAAQ,uCAAuC,CAAC,CAAC;AAC3E,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,KAAK,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,KAAK,GAAGd,WAAW,CAAEe,KAAK,IAAKA,KAAK,CAACC,EAAE,CAACF,KAAK,CAAC;EACpD,MAAMG,IAAI,GAAGjB,WAAW,CAAEe,KAAK,IAAKA,KAAK,CAACC,EAAE,CAACC,IAAI,CAAC;EAClD,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMkB,oBAAoB,GAAGnB,WAAW,CAAEe,KAAK,IAAKA,KAAK,CAACK,QAAQ,CAACD,oBAAoB,CAAC;EAExFpB,SAAS,CAAC,MAAM;IACZ;IACAmB,QAAQ,CAACZ,iBAAiB,CAACW,IAAI,CAAC,CAAC;EACrC,CAAC,EAAE,CAACA,IAAI,EAAEC,QAAQ,CAAC,CAAC;;EAEpB;EACA,MAAMG,eAAe,GAAG,CAAAF,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAEG,OAAO,KAAIL,IAAI,CAACM,MAAM,GAAG,CAAC;EAExE,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACvBN,QAAQ,CAAChB,MAAM,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,MAAMuB,gBAAgB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IACvCT,QAAQ,CAACd,SAAS,CAAC;MAAEsB,KAAK;MAAEE,YAAY,EAAED;IAAM,CAAC,CAAC,CAAC;EACvD,CAAC;EAED,MAAME,eAAe,GAAIH,KAAK,IAAK;IAC/BR,QAAQ,CAACf,SAAS,CAACuB,KAAK,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACvB,IAAIT,eAAe,EAAE;MACjBH,QAAQ,CAACb,eAAe,CAAC,CAAC,CAAC;MAC3Ba,QAAQ,CAACX,cAAc,CAACE,KAAK,CAACsB,OAAO,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC,MAAM;MACHC,OAAO,CAACC,KAAK,CAAC,wCAAwC,CAAC;IAC3D;EACJ,CAAC;EAED,oBACItB,OAAA,CAACH,SAAS;IACNM,KAAK,EAAEA,KAAM;IACbG,IAAI,EAAEA,IAAK;IACXO,YAAY,EAAEA,YAAa;IAC3BK,eAAe,EAAEA,eAAgB;IACjCJ,gBAAgB,EAAEA,gBAAiB;IACnCK,YAAY,EAAEA,YAAa;IAC3BT,eAAe,EAAEA;EAAgB;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC,CAAC;AAEV,CAAC;AAACxB,EAAA,CA9CID,SAAS;EAAA,QACGZ,WAAW,EACZA,WAAW,EACPC,WAAW,EACCD,WAAW;AAAA;AAAAsC,EAAA,GAJtC1B,SAAS;AAgDf,eAAeA,SAAS;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}