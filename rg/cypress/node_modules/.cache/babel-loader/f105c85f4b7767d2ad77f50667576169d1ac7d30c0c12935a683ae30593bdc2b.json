{"ast":null,"code":"var _jsxFileName = \"/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js\",\n  _s = $RefreshSig$();\n// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { incrementVote, startMatchup, handleChoiceSelect } from '../../features/ui/uiSlice';\nimport { selectCurrentPair } from '../../features/matchup/matchupSelectors';\nimport { PAGES } from '../../features/constants';\nimport { MatchupView } from './MatchupView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MatchupPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector(state => state.ui.isComparisonComplete);\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector(state => state.ui.topic);\n  const items = useSelector(state => state.ui.items);\n  useEffect(() => {\n    dispatch(startMatchup(items));\n  }, [items, dispatch]);\n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n  const onButtonClick = buttonIndex => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[buttonIndex]];\n      if (selectedItem) {\n        // dispatch(incrementVote({ id: selectedItem.id }));\n        dispatch(handleChoiceSelect({\n          choiceIndex: buttonIndex,\n          items\n        }));\n      }\n    }\n  };\n  const onChoiceSelect = choiceIndex => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[choiceIndex]];\n      if (selectedItem) {\n        dispatch(incrementVote({\n          id: selectedItem.id\n        }));\n        dispatch(handleChoiceSelect({\n          choiceIndex,\n          items\n        }));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MatchupView, {\n    topic: topic,\n    handleChoiceSelect: onChoiceSelect,\n    currentPair: currentPair,\n    items: items,\n    onButtonClick: onButtonClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(MatchupPage, \"Wxkj0uah6X2P8ubgaWIcv7A4lmE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = MatchupPage;\nexport default MatchupPage;\nvar _c;\n$RefreshReg$(_c, \"MatchupPage\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","setCurrentPage","incrementVote","startMatchup","handleChoiceSelect","selectCurrentPair","PAGES","MatchupView","jsxDEV","_jsxDEV","MatchupPage","_s","dispatch","isComparisonComplete","state","ui","currentPair","topic","items","RESULTS","onButtonClick","buttonIndex","length","selectedItem","choiceIndex","onChoiceSelect","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js"],"sourcesContent":["// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { incrementVote, startMatchup, handleChoiceSelect} from '../../features/ui/uiSlice';\n\nimport { selectCurrentPair } from '../../features/matchup/matchupSelectors';\nimport { PAGES } from '../../features/constants';\n\nimport { MatchupView } from './MatchupView';\n\nconst MatchupPage = () => {\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector((state) => state.ui.isComparisonComplete);\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector((state) => state.ui.topic);\n  const items = useSelector((state) => state.ui.items);\n\n  useEffect(() => {\n    dispatch(startMatchup(items));\n  }, [items, dispatch]);\n  \n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n\n  const onButtonClick = (buttonIndex) => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[buttonIndex]];\n\n      if (selectedItem) {\n        // dispatch(incrementVote({ id: selectedItem.id }));\n        dispatch(handleChoiceSelect({ choiceIndex: buttonIndex, items }));\n      }\n    }\n  };\n\n  const onChoiceSelect = (choiceIndex) => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[choiceIndex]];\n    \n      if (selectedItem) {\n        dispatch(incrementVote({ id: selectedItem.id })); \n        dispatch(handleChoiceSelect({ choiceIndex, items }));\n      }\n    }\n  };\n\n  return (\n    <MatchupView \n      topic={topic}\n      handleChoiceSelect={onChoiceSelect}\n      currentPair={currentPair}\n      items={items}\n      onButtonClick={onButtonClick}\n    />\n  );\n};\n\nexport default MatchupPage;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SAASC,aAAa,EAAEC,YAAY,EAAEC,kBAAkB,QAAO,2BAA2B;AAE1F,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,KAAK,QAAQ,0BAA0B;AAEhD,SAASC,WAAW,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,MAAMc,oBAAoB,GAAGb,WAAW,CAAEc,KAAK,IAAKA,KAAK,CAACC,EAAE,CAACF,oBAAoB,CAAC;EAClF,MAAMG,WAAW,GAAGhB,WAAW,CAACK,iBAAiB,CAAC;EAClD,MAAMY,KAAK,GAAGjB,WAAW,CAAEc,KAAK,IAAKA,KAAK,CAACC,EAAE,CAACE,KAAK,CAAC;EACpD,MAAMC,KAAK,GAAGlB,WAAW,CAAEc,KAAK,IAAKA,KAAK,CAACC,EAAE,CAACG,KAAK,CAAC;EAEpDpB,SAAS,CAAC,MAAM;IACdc,QAAQ,CAACT,YAAY,CAACe,KAAK,CAAC,CAAC;EAC/B,CAAC,EAAE,CAACA,KAAK,EAAEN,QAAQ,CAAC,CAAC;EAErBd,SAAS,CAAC,MAAM;IACd,IAAIe,oBAAoB,EAAE;MACxBD,QAAQ,CAACX,cAAc,CAACK,KAAK,CAACa,OAAO,CAAC,CAAC;IACzC;EACF,CAAC,EAAE,CAACN,oBAAoB,EAAED,QAAQ,CAAC,CAAC;EAEpC,MAAMQ,aAAa,GAAIC,WAAW,IAAK;IACrC,IAAIL,WAAW,IAAIA,WAAW,CAACM,MAAM,KAAK,CAAC,EAAE;MAC3C,MAAMC,YAAY,GAAGL,KAAK,CAACF,WAAW,CAACK,WAAW,CAAC,CAAC;MAEpD,IAAIE,YAAY,EAAE;QAChB;QACAX,QAAQ,CAACR,kBAAkB,CAAC;UAAEoB,WAAW,EAAEH,WAAW;UAAEH;QAAM,CAAC,CAAC,CAAC;MACnE;IACF;EACF,CAAC;EAED,MAAMO,cAAc,GAAID,WAAW,IAAK;IACtC,IAAIR,WAAW,IAAIA,WAAW,CAACM,MAAM,KAAK,CAAC,EAAE;MAC3C,MAAMC,YAAY,GAAGL,KAAK,CAACF,WAAW,CAACQ,WAAW,CAAC,CAAC;MAEpD,IAAID,YAAY,EAAE;QAChBX,QAAQ,CAACV,aAAa,CAAC;UAAEwB,EAAE,EAAEH,YAAY,CAACG;QAAG,CAAC,CAAC,CAAC;QAChDd,QAAQ,CAACR,kBAAkB,CAAC;UAAEoB,WAAW;UAAEN;QAAM,CAAC,CAAC,CAAC;MACtD;IACF;EACF,CAAC;EAED,oBACET,OAAA,CAACF,WAAW;IACVU,KAAK,EAAEA,KAAM;IACbb,kBAAkB,EAAEqB,cAAe;IACnCT,WAAW,EAAEA,WAAY;IACzBE,KAAK,EAAEA,KAAM;IACbE,aAAa,EAAEA;EAAc;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9B,CAAC;AAEN,CAAC;AAACnB,EAAA,CAhDID,WAAW;EAAA,QACEX,WAAW,EACCC,WAAW,EACpBA,WAAW,EACjBA,WAAW,EACXA,WAAW;AAAA;AAAA+B,EAAA,GALrBrB,WAAW;AAkDjB,eAAeA,WAAW;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}