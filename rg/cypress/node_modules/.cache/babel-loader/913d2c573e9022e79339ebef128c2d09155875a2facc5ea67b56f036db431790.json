{"ast":null,"code":"export const incrementVote = (state, action) => {\n  const selectedItem = action.payload;\n  const itemIndex = state.items.findIndex(item => item.id === selectedItem.id);\n  if (itemIndex !== -1) {\n    state.items[itemIndex].votes += 1;\n  }\n};\nexport const selectCurrentPair = state => {\n  return state.matchup.pairs[state.ui.currentPairIndex];\n};\nexport const selectInitialScores = state => {\n  const initialScores = {};\n  state.matchup.rows.forEach(choice => {\n    initialScores[choice.trim()] = 0;\n  });\n  return initialScores;\n};\nexport const selectSortedPriorities = state => {\n  return Object.keys(state.matchup.scores).sort((a, b) => state.matchup.scores[b] - state.matchup.scores[a]);\n};\nexport const selectAdjustedRankings = state => {\n  const sortedChoices = Object.entries(state.matchup.scores).sort((a, b) => b[1] - a[1]);\n  let lastScore = null,\n    rank = 0;\n  return sortedChoices.map(([choice, score], index) => {\n    if (score !== lastScore) {\n      rank = index + 1;\n      lastScore = score;\n    }\n    return [choice, score, rank];\n  });\n};\nexport const selectCurrentPairItems = state => {\n  const pair = selectCurrentPair(state);\n  return pair ? [state.matchup.items[pair[0]], state.matchup.items[pair[1]]] : null;\n};","map":{"version":3,"names":["incrementVote","state","action","selectedItem","payload","itemIndex","items","findIndex","item","id","votes","selectCurrentPair","matchup","pairs","ui","currentPairIndex","selectInitialScores","initialScores","rows","forEach","choice","trim","selectSortedPriorities","Object","keys","scores","sort","a","b","selectAdjustedRankings","sortedChoices","entries","lastScore","rank","map","score","index","selectCurrentPairItems","pair"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/selectors/matchupSelectors.js"],"sourcesContent":["export const incrementVote = (state, action) => {\n  const selectedItem = action.payload;\n  const itemIndex = state.items.findIndex(item => item.id === selectedItem.id);\n  if (itemIndex !== -1) {\n    state.items[itemIndex].votes += 1;\n  }\n};\n\n\nexport const selectCurrentPair = (state) => {\n  return state.matchup.pairs[state.ui.currentPairIndex];\n};\n\n  \n  export const selectInitialScores = (state) => {\n    const initialScores = {};\n    state.matchup.rows.forEach(choice => {\n      initialScores[choice.trim()] = 0;\n    });\n    return initialScores;\n  };\n  \n  export const selectSortedPriorities = (state) => {\n    return Object.keys(state.matchup.scores).sort((a, b) => state.matchup.scores[b] - state.matchup.scores[a]);\n  };\n  \n  export const selectAdjustedRankings = (state) => {\n    const sortedChoices = Object.entries(state.matchup.scores).sort((a, b) => b[1] - a[1]);\n    let lastScore = null, rank = 0;\n    return sortedChoices.map(([choice, score], index) => {\n      if (score !== lastScore) {\n        rank = index + 1;\n        lastScore = score;\n      }\n      return [choice, score, rank];\n    });\n  };\n\n  export const selectCurrentPairItems = (state) => {\n    const pair = selectCurrentPair(state);\n    return pair ? [state.matchup.items[pair[0]], state.matchup.items[pair[1]]] : null;\n  };\n  "],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC9C,MAAMC,YAAY,GAAGD,MAAM,CAACE,OAAO;EACnC,MAAMC,SAAS,GAAGJ,KAAK,CAACK,KAAK,CAACC,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,YAAY,CAACM,EAAE,CAAC;EAC5E,IAAIJ,SAAS,KAAK,CAAC,CAAC,EAAE;IACpBJ,KAAK,CAACK,KAAK,CAACD,SAAS,CAAC,CAACK,KAAK,IAAI,CAAC;EACnC;AACF,CAAC;AAGD,OAAO,MAAMC,iBAAiB,GAAIV,KAAK,IAAK;EAC1C,OAAOA,KAAK,CAACW,OAAO,CAACC,KAAK,CAACZ,KAAK,CAACa,EAAE,CAACC,gBAAgB,CAAC;AACvD,CAAC;AAGC,OAAO,MAAMC,mBAAmB,GAAIf,KAAK,IAAK;EAC5C,MAAMgB,aAAa,GAAG,CAAC,CAAC;EACxBhB,KAAK,CAACW,OAAO,CAACM,IAAI,CAACC,OAAO,CAACC,MAAM,IAAI;IACnCH,aAAa,CAACG,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;EAClC,CAAC,CAAC;EACF,OAAOJ,aAAa;AACtB,CAAC;AAED,OAAO,MAAMK,sBAAsB,GAAIrB,KAAK,IAAK;EAC/C,OAAOsB,MAAM,CAACC,IAAI,CAACvB,KAAK,CAACW,OAAO,CAACa,MAAM,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK3B,KAAK,CAACW,OAAO,CAACa,MAAM,CAACG,CAAC,CAAC,GAAG3B,KAAK,CAACW,OAAO,CAACa,MAAM,CAACE,CAAC,CAAC,CAAC;AAC5G,CAAC;AAED,OAAO,MAAME,sBAAsB,GAAI5B,KAAK,IAAK;EAC/C,MAAM6B,aAAa,GAAGP,MAAM,CAACQ,OAAO,CAAC9B,KAAK,CAACW,OAAO,CAACa,MAAM,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC;EACtF,IAAIK,SAAS,GAAG,IAAI;IAAEC,IAAI,GAAG,CAAC;EAC9B,OAAOH,aAAa,CAACI,GAAG,CAAC,CAAC,CAACd,MAAM,EAAEe,KAAK,CAAC,EAAEC,KAAK,KAAK;IACnD,IAAID,KAAK,KAAKH,SAAS,EAAE;MACvBC,IAAI,GAAGG,KAAK,GAAG,CAAC;MAChBJ,SAAS,GAAGG,KAAK;IACnB;IACA,OAAO,CAACf,MAAM,EAAEe,KAAK,EAAEF,IAAI,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMI,sBAAsB,GAAIpC,KAAK,IAAK;EAC/C,MAAMqC,IAAI,GAAG3B,iBAAiB,CAACV,KAAK,CAAC;EACrC,OAAOqC,IAAI,GAAG,CAACrC,KAAK,CAACW,OAAO,CAACN,KAAK,CAACgC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAErC,KAAK,CAACW,OAAO,CAACN,KAAK,CAACgC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACnF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}