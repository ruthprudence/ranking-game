{"ast":null,"code":"var _jsxFileName = \"/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js\",\n  _s = $RefreshSig$();\n// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startMatchup, nextPair } from '../../features/matchup/matchupSlice';\nimport { selectCurrentPair } from '../../selectors/matchupSelectors';\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { MatchupView } from './MatchupView';\nimport { PAGES } from '../../features/constants';\nimport { incrementVote, selectItems } from '../../features/ui/uiSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MatchupPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector(state => state.matchup.isComparisonComplete);\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector(state => state.ui.topic);\n  const items = useSelector(selectItems);\n  useEffect(() => {\n    if (!items.length) {\n      dispatch(startMatchup());\n    }\n  }, [dispatch, items]);\n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n  const handleChoiceSelect = choiceIndex => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[choiceIndex]];\n      if (selectedItem) {\n        dispatch(incrementVote(selectedItem.id)); // Assuming incrementVote takes an ID\n        dispatch(nextPair());\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MatchupView, {\n    topic: topic,\n    handleChoiceSelect: handleChoiceSelect,\n    currentPair: currentPair,\n    items: items\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(MatchupPage, \"Wxkj0uah6X2P8ubgaWIcv7A4lmE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = MatchupPage;\nexport default MatchupPage;\nvar _c;\n$RefreshReg$(_c, \"MatchupPage\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","startMatchup","nextPair","selectCurrentPair","setCurrentPage","MatchupView","PAGES","incrementVote","selectItems","jsxDEV","_jsxDEV","MatchupPage","_s","dispatch","isComparisonComplete","state","matchup","currentPair","topic","ui","items","length","RESULTS","handleChoiceSelect","choiceIndex","selectedItem","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/components/Matchup/MatchupPage.js"],"sourcesContent":["// MatchupPage.js\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startMatchup, nextPair } from '../../features/matchup/matchupSlice';\nimport { selectCurrentPair } from '../../selectors/matchupSelectors';\nimport { setCurrentPage } from '../../features/game/gameSlice';\nimport { MatchupView } from './MatchupView';\nimport { PAGES } from '../../features/constants';\nimport { incrementVote, selectItems } from '../../features/ui/uiSlice';\n\nconst MatchupPage = () => {\n  const dispatch = useDispatch();\n  const isComparisonComplete = useSelector((state) => state.matchup.isComparisonComplete);\n  const currentPair = useSelector(selectCurrentPair);\n  const topic = useSelector((state) => state.ui.topic);\n  const items = useSelector(selectItems);\n\n  useEffect(() => {\n    if (!items.length) {\n      dispatch(startMatchup());\n    }\n  }, [dispatch, items]);\n\n  useEffect(() => {\n    if (isComparisonComplete) {\n      dispatch(setCurrentPage(PAGES.RESULTS));\n    }\n  }, [isComparisonComplete, dispatch]);\n\n  const handleChoiceSelect = (choiceIndex) => {\n    if (currentPair && currentPair.length === 2) {\n      const selectedItem = items[currentPair[choiceIndex]];\n      if (selectedItem) {\n        dispatch(incrementVote(selectedItem.id)); // Assuming incrementVote takes an ID\n        dispatch(nextPair());\n      }\n    }\n  };\n\n  return (\n    <MatchupView \n      topic={topic}\n      handleChoiceSelect={handleChoiceSelect}\n      currentPair={currentPair}\n      items={items}\n    />\n  );\n};\n\nexport default MatchupPage;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,EAAEC,QAAQ,QAAQ,qCAAqC;AAC5E,SAASC,iBAAiB,QAAQ,kCAAkC;AACpE,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,KAAK,QAAQ,0BAA0B;AAChD,SAASC,aAAa,EAAEC,WAAW,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvE,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAMe,oBAAoB,GAAGd,WAAW,CAAEe,KAAK,IAAKA,KAAK,CAACC,OAAO,CAACF,oBAAoB,CAAC;EACvF,MAAMG,WAAW,GAAGjB,WAAW,CAACG,iBAAiB,CAAC;EAClD,MAAMe,KAAK,GAAGlB,WAAW,CAAEe,KAAK,IAAKA,KAAK,CAACI,EAAE,CAACD,KAAK,CAAC;EACpD,MAAME,KAAK,GAAGpB,WAAW,CAACQ,WAAW,CAAC;EAEtCV,SAAS,CAAC,MAAM;IACd,IAAI,CAACsB,KAAK,CAACC,MAAM,EAAE;MACjBR,QAAQ,CAACZ,YAAY,CAAC,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,CAACY,QAAQ,EAAEO,KAAK,CAAC,CAAC;EAErBtB,SAAS,CAAC,MAAM;IACd,IAAIgB,oBAAoB,EAAE;MACxBD,QAAQ,CAACT,cAAc,CAACE,KAAK,CAACgB,OAAO,CAAC,CAAC;IACzC;EACF,CAAC,EAAE,CAACR,oBAAoB,EAAED,QAAQ,CAAC,CAAC;EAEpC,MAAMU,kBAAkB,GAAIC,WAAW,IAAK;IAC1C,IAAIP,WAAW,IAAIA,WAAW,CAACI,MAAM,KAAK,CAAC,EAAE;MAC3C,MAAMI,YAAY,GAAGL,KAAK,CAACH,WAAW,CAACO,WAAW,CAAC,CAAC;MACpD,IAAIC,YAAY,EAAE;QAChBZ,QAAQ,CAACN,aAAa,CAACkB,YAAY,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1Cb,QAAQ,CAACX,QAAQ,CAAC,CAAC,CAAC;MACtB;IACF;EACF,CAAC;EAED,oBACEQ,OAAA,CAACL,WAAW;IACVa,KAAK,EAAEA,KAAM;IACbK,kBAAkB,EAAEA,kBAAmB;IACvCN,WAAW,EAAEA,WAAY;IACzBG,KAAK,EAAEA;EAAM;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEN,CAAC;AAAClB,EAAA,CArCID,WAAW;EAAA,QACEZ,WAAW,EACCC,WAAW,EACpBA,WAAW,EACjBA,WAAW,EACXA,WAAW;AAAA;AAAA+B,EAAA,GALrBpB,WAAW;AAuCjB,eAAeA,WAAW;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}