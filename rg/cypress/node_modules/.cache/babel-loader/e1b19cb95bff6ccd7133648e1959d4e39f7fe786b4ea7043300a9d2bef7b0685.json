{"ast":null,"code":"export const calculateRankings = (items, scores) => {\n  // Attach scores to items and sort them based on these scores\n  const itemsWithScores = items.map(item => ({\n    ...item,\n    score: scores[item.id] || 0 // Default to 0 if no score is found\n  }));\n  const sortedItems = itemsWithScores.sort((a, b) => b.score - a.score);\n  let lastScore = null;\n  let rank = 0;\n  let tieRank = 0;\n  return sortedItems.map((item, index) => {\n    if (item.score !== lastScore) {\n      rank = index + 1;\n      tieRank = rank;\n      lastScore = item.score;\n    } else {\n      rank = tieRank; // Keep the same rank in case of a tie\n    }\n    return {\n      itemName: item.name,\n      score: item.score,\n      rank\n    };\n  });\n};","map":{"version":3,"names":["calculateRankings","items","scores","itemsWithScores","map","item","score","id","sortedItems","sort","a","b","lastScore","rank","tieRank","index","itemName","name"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/features/results/calculateRankings.js"],"sourcesContent":["export const calculateRankings = (items, scores) => {\n    // Attach scores to items and sort them based on these scores\n    const itemsWithScores = items.map(item => ({\n        ...item,\n        score: scores[item.id] || 0  // Default to 0 if no score is found\n    }));\n\n    const sortedItems = itemsWithScores.sort((a, b) => b.score - a.score);\n    let lastScore = null;\n    let rank = 0;\n    let tieRank = 0;\n\n    return sortedItems.map((item, index) => {\n        if (item.score !== lastScore) {\n            rank = index + 1;\n            tieRank = rank;\n            lastScore = item.score;\n        } else {\n            rank = tieRank; // Keep the same rank in case of a tie\n        }\n        return { itemName: item.name, score: item.score, rank };\n    });\n};\n"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAChD;EACA,MAAMC,eAAe,GAAGF,KAAK,CAACG,GAAG,CAACC,IAAI,KAAK;IACvC,GAAGA,IAAI;IACPC,KAAK,EAAEJ,MAAM,CAACG,IAAI,CAACE,EAAE,CAAC,IAAI,CAAC,CAAE;EACjC,CAAC,CAAC,CAAC;EAEH,MAAMC,WAAW,GAAGL,eAAe,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACL,KAAK,GAAGI,CAAC,CAACJ,KAAK,CAAC;EACrE,IAAIM,SAAS,GAAG,IAAI;EACpB,IAAIC,IAAI,GAAG,CAAC;EACZ,IAAIC,OAAO,GAAG,CAAC;EAEf,OAAON,WAAW,CAACJ,GAAG,CAAC,CAACC,IAAI,EAAEU,KAAK,KAAK;IACpC,IAAIV,IAAI,CAACC,KAAK,KAAKM,SAAS,EAAE;MAC1BC,IAAI,GAAGE,KAAK,GAAG,CAAC;MAChBD,OAAO,GAAGD,IAAI;MACdD,SAAS,GAAGP,IAAI,CAACC,KAAK;IAC1B,CAAC,MAAM;MACHO,IAAI,GAAGC,OAAO,CAAC,CAAC;IACpB;IACA,OAAO;MAAEE,QAAQ,EAAEX,IAAI,CAACY,IAAI;MAAEX,KAAK,EAAED,IAAI,CAACC,KAAK;MAAEO;IAAK,CAAC;EAC3D,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}