{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { pairingLogic } from './pairingLogic';\nexport const matchupSlice = createSlice({\n  name: 'matchup',\n  initialState: {\n    currentPairIndex: 0,\n    isComparisonComplete: false,\n    pairs: []\n  },\n  reducers: {\n    startMatchup: (state, action) => {\n      const items = action.payload;\n      state.pairs = pairingLogic(items);\n      console.log(\"Starting matchup with items:\", items);\n      console.log(\"Generated pairs:\", state.pairs);\n      state.currentPairIndex = 0;\n      state.isComparisonComplete = false;\n    },\n    nextPair: state => {\n      console.log(\"Current pair index before update:\", state.currentPairIndex);\n      console.log(\"Pairs:\", state.pairs);\n      state.currentPairIndex += 1;\n      console.log(\"Updated current pair index:\", state.currentPairIndex);\n      console.log(\"New Current Pair:\", state.pairs[state.currentPairIndex]);\n    },\n    incrementVote: (state, action) => {\n      const selectedItem = action.payload;\n      const itemIndex = state.items.findIndex(item => item.id === selectedItem.id);\n      if (itemIndex !== -1) {\n        state.items[itemIndex].votes += 1; // Immutable update\n      }\n    }\n  }\n});\nexport const {\n  startMatchup,\n  nextPair,\n  handleChoice,\n  incrementVote\n} = matchupSlice.actions;\nexport default matchupSlice.reducer;","map":{"version":3,"names":["createSlice","pairingLogic","matchupSlice","name","initialState","currentPairIndex","isComparisonComplete","pairs","reducers","startMatchup","state","action","items","payload","console","log","nextPair","incrementVote","selectedItem","itemIndex","findIndex","item","id","votes","handleChoice","actions","reducer"],"sources":["/Users/ruth/Dropbox/Developer/apps/ps/rg/src/features/matchup/matchupSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { pairingLogic } from './pairingLogic';\n\nexport const matchupSlice = createSlice({\n  name: 'matchup',\n  initialState: {\n    currentPairIndex: 0,\n    isComparisonComplete: false,\n    pairs: [],\n  },\n  reducers: {\n    startMatchup: (state, action) => {\n      const items = action.payload;\n      state.pairs = pairingLogic(items);\n      console.log(\"Starting matchup with items:\", items);\n      console.log(\"Generated pairs:\", state.pairs);\n      state.currentPairIndex = 0;\n      state.isComparisonComplete = false;\n    },\n    nextPair: (state) => {\n      console.log(\"Current pair index before update:\", state.currentPairIndex);\n      console.log(\"Pairs:\", state.pairs);\n      state.currentPairIndex += 1;\n      console.log(\"Updated current pair index:\", state.currentPairIndex);\n      console.log(\"New Current Pair:\", state.pairs[state.currentPairIndex]);\n    },\n    incrementVote: (state, action) => {\n      const selectedItem = action.payload;\n      const itemIndex = state.items.findIndex(item => item.id === selectedItem.id);\n      if (itemIndex !== -1) {\n        state.items[itemIndex].votes += 1; // Immutable update\n      }\n    },\n    \n  },\n});\n\nexport const { startMatchup, nextPair, handleChoice, incrementVote } = matchupSlice.actions;\n\nexport default matchupSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,YAAY,QAAQ,gBAAgB;AAE7C,OAAO,MAAMC,YAAY,GAAGF,WAAW,CAAC;EACtCG,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IACZC,gBAAgB,EAAE,CAAC;IACnBC,oBAAoB,EAAE,KAAK;IAC3BC,KAAK,EAAE;EACT,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAY,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC/B,MAAMC,KAAK,GAAGD,MAAM,CAACE,OAAO;MAC5BH,KAAK,CAACH,KAAK,GAAGN,YAAY,CAACW,KAAK,CAAC;MACjCE,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEH,KAAK,CAAC;MAClDE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEL,KAAK,CAACH,KAAK,CAAC;MAC5CG,KAAK,CAACL,gBAAgB,GAAG,CAAC;MAC1BK,KAAK,CAACJ,oBAAoB,GAAG,KAAK;IACpC,CAAC;IACDU,QAAQ,EAAGN,KAAK,IAAK;MACnBI,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEL,KAAK,CAACL,gBAAgB,CAAC;MACxES,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEL,KAAK,CAACH,KAAK,CAAC;MAClCG,KAAK,CAACL,gBAAgB,IAAI,CAAC;MAC3BS,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEL,KAAK,CAACL,gBAAgB,CAAC;MAClES,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEL,KAAK,CAACH,KAAK,CAACG,KAAK,CAACL,gBAAgB,CAAC,CAAC;IACvE,CAAC;IACDY,aAAa,EAAEA,CAACP,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAMO,YAAY,GAAGP,MAAM,CAACE,OAAO;MACnC,MAAMM,SAAS,GAAGT,KAAK,CAACE,KAAK,CAACQ,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,YAAY,CAACI,EAAE,CAAC;MAC5E,IAAIH,SAAS,KAAK,CAAC,CAAC,EAAE;QACpBT,KAAK,CAACE,KAAK,CAACO,SAAS,CAAC,CAACI,KAAK,IAAI,CAAC,CAAC,CAAC;MACrC;IACF;EAEF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEd,YAAY;EAAEO,QAAQ;EAAEQ,YAAY;EAAEP;AAAc,CAAC,GAAGf,YAAY,CAACuB,OAAO;AAE3F,eAAevB,YAAY,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}